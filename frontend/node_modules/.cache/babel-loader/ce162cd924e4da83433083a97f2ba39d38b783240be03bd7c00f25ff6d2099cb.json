{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import Login from'./components/Login';import Dashboard from'./components/Dashboard';import Billboards from'./components/Billboards';import Orders from'./components/Orders';import Reservations from'./components/Reservations';import'./css/style.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[token,setToken]=useState(null);useEffect(()=>{// Check for a token in localStorage when the app loads\nconst savedToken=localStorage.getItem('token');if(savedToken){setToken(savedToken);}},[]);const handleLogout=()=>{localStorage.removeItem('token');// Remove the token\nsetToken(null);// Reset token state\n};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:token?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"}):/*#__PURE__*/_jsx(Login,{setToken:setToken})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:token?/*#__PURE__*/_jsx(Dashboard,{onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/billboards\",element:token?/*#__PURE__*/_jsx(Billboards,{onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/orders\",element:token?/*#__PURE__*/_jsx(Orders,{onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/reservations\",element:token?/*#__PURE__*/_jsx(Reservations,{onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:token?\"/dashboard\":\"/login\"})})]})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Login","Dashboard","Billboards","Orders","Reservations","jsx","_jsx","jsxs","_jsxs","App","token","setToken","savedToken","localStorage","getItem","handleLogout","removeItem","children","path","element","to","onLogout"],"sources":["C:/Users/Tomas Mraz/Desktop/Branmedia/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport Login from './components/Login';\r\nimport Dashboard from './components/Dashboard';\r\nimport Billboards from './components/Billboards';\r\nimport Orders from './components/Orders';\r\nimport Reservations from './components/Reservations';\r\nimport './css/style.css';\r\n\r\nconst App = () => {\r\n    const [token, setToken] = useState(null);\r\n\r\n    useEffect(() => {\r\n        // Check for a token in localStorage when the app loads\r\n        const savedToken = localStorage.getItem('token');\r\n        if (savedToken) {\r\n            setToken(savedToken);\r\n        }\r\n    }, []);\r\n\r\n    const handleLogout = () => {\r\n        localStorage.removeItem('token'); // Remove the token\r\n        setToken(null); // Reset token state\r\n    };\r\n\r\n    return (\r\n        <Router>\r\n            <Routes>\r\n                <Route\r\n                    path=\"/login\"\r\n                    element={token ? <Navigate to=\"/dashboard\" /> : <Login setToken={setToken} />}\r\n                />\r\n                <Route\r\n                    path=\"/dashboard\"\r\n                    element={token ? <Dashboard onLogout={handleLogout} /> : <Navigate to=\"/login\" />}\r\n                />\r\n                <Route\r\n                    path=\"/billboards\"\r\n                    element={token ? <Billboards onLogout={handleLogout} /> : <Navigate to=\"/login\" />}\r\n                />\r\n                <Route\r\n                    path=\"/orders\"\r\n                    element={token ? <Orders onLogout={handleLogout} /> : <Navigate to=\"/login\" />}\r\n                />\r\n                <Route\r\n                    path=\"/reservations\"\r\n                    element={token ? <Reservations onLogout={handleLogout} /> : <Navigate to=\"/login\" />}\r\n                />\r\n                <Route\r\n                    path=\"*\"\r\n                    element={<Navigate to={token ? \"/dashboard\" : \"/login\"} />}\r\n                />\r\n            </Routes>\r\n        </Router>\r\n    );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAChD,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,YAAY,KAAM,2BAA2B,CACpD,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CACd,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACZ;AACA,KAAM,CAAAkB,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAChD,GAAIF,UAAU,CAAE,CACZD,QAAQ,CAACC,UAAU,CAAC,CACxB,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,YAAY,CAAGA,CAAA,GAAM,CACvBF,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC,CAAE;AAClCL,QAAQ,CAAC,IAAI,CAAC,CAAE;AACpB,CAAC,CAED,mBACIL,IAAA,CAACV,MAAM,EAAAqB,QAAA,cACHT,KAAA,CAACX,MAAM,EAAAoB,QAAA,eACHX,IAAA,CAACR,KAAK,EACFoB,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAET,KAAK,cAAGJ,IAAA,CAACP,QAAQ,EAACqB,EAAE,CAAC,YAAY,CAAE,CAAC,cAAGd,IAAA,CAACN,KAAK,EAACW,QAAQ,CAAEA,QAAS,CAAE,CAAE,CACjF,CAAC,cACFL,IAAA,CAACR,KAAK,EACFoB,IAAI,CAAC,YAAY,CACjBC,OAAO,CAAET,KAAK,cAAGJ,IAAA,CAACL,SAAS,EAACoB,QAAQ,CAAEN,YAAa,CAAE,CAAC,cAAGT,IAAA,CAACP,QAAQ,EAACqB,EAAE,CAAC,QAAQ,CAAE,CAAE,CACrF,CAAC,cACFd,IAAA,CAACR,KAAK,EACFoB,IAAI,CAAC,aAAa,CAClBC,OAAO,CAAET,KAAK,cAAGJ,IAAA,CAACJ,UAAU,EAACmB,QAAQ,CAAEN,YAAa,CAAE,CAAC,cAAGT,IAAA,CAACP,QAAQ,EAACqB,EAAE,CAAC,QAAQ,CAAE,CAAE,CACtF,CAAC,cACFd,IAAA,CAACR,KAAK,EACFoB,IAAI,CAAC,SAAS,CACdC,OAAO,CAAET,KAAK,cAAGJ,IAAA,CAACH,MAAM,EAACkB,QAAQ,CAAEN,YAAa,CAAE,CAAC,cAAGT,IAAA,CAACP,QAAQ,EAACqB,EAAE,CAAC,QAAQ,CAAE,CAAE,CAClF,CAAC,cACFd,IAAA,CAACR,KAAK,EACFoB,IAAI,CAAC,eAAe,CACpBC,OAAO,CAAET,KAAK,cAAGJ,IAAA,CAACF,YAAY,EAACiB,QAAQ,CAAEN,YAAa,CAAE,CAAC,cAAGT,IAAA,CAACP,QAAQ,EAACqB,EAAE,CAAC,QAAQ,CAAE,CAAE,CACxF,CAAC,cACFd,IAAA,CAACR,KAAK,EACFoB,IAAI,CAAC,GAAG,CACRC,OAAO,cAAEb,IAAA,CAACP,QAAQ,EAACqB,EAAE,CAAEV,KAAK,CAAG,YAAY,CAAG,QAAS,CAAE,CAAE,CAC9D,CAAC,EACE,CAAC,CACL,CAAC,CAEjB,CAAC,CAED,cAAe,CAAAD,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}